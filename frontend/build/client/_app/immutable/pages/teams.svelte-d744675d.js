import{S as L,i as j,s as F,w as m,x as c,y as _,f as d,t as g,B as b,o as M,a as A,c as C,b as v,h as S,Q as T,Y as D,Z as O,r as G,u as J}from"../chunks/index-f831fcd5.js";import{G as P,i as U,g as q,R as y,C as N,A as z,B as H}from"../chunks/autocomplete-92be2335.js";import{E as Q}from"../chunks/EditableDatatable-30d45017.js";import{T as B}from"../chunks/TextInput-b96bf048.js";import"../chunks/index-c5ea608b.js";import"../chunks/ChevronDown-4ddb42be.js";import"../chunks/Close-76fb22ca.js";import"../chunks/EditOff-8afe7c05.js";function V(l){let e,a,t;function r(s){l[10](s)}let n={placeholder:"new team's full name"};return l[3]!==void 0&&(n.value=l[3]),e=new B({props:n}),T.push(()=>D(e,"value",r)),{c(){m(e.$$.fragment)},l(s){c(e.$$.fragment,s)},m(s,f){_(e,s,f),t=!0},p(s,f){const u={};!a&&f&8&&(a=!0,u.value=s[3],O(()=>a=!1)),e.$set(u)},i(s){t||(d(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){b(e,s)}}}function Y(l){let e,a,t;function r(s){l[11](s)}let n={placeholder:"new team's short name"};return l[4]!==void 0&&(n.value=l[4]),e=new B({props:n}),T.push(()=>D(e,"value",r)),{c(){m(e.$$.fragment)},l(s){c(e.$$.fragment,s)},m(s,f){_(e,s,f),t=!0},p(s,f){const u={};!a&&f&16&&(a=!0,u.value=s[4],O(()=>a=!1)),e.$set(u)},i(s){t||(d(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){b(e,s)}}}function Z(l){let e;return{c(){e=G("Submit")},l(a){e=J(a,"Submit")},m(a,t){v(a,e,t)},d(a){a&&S(e)}}}function K(l){let e,a;return e=new H({props:{size:"small",kind:"primary",$$slots:{default:[Z]},$$scope:{ctx:l}}}),e.$on("click",l[8]),{c(){m(e.$$.fragment)},l(t){c(e.$$.fragment,t)},m(t,r){_(e,t,r),a=!0},p(t,r){const n={};r&32768&&(n.$$scope={dirty:r,ctx:t}),e.$set(n)},i(t){a||(d(e.$$.fragment,t),a=!0)},o(t){g(e.$$.fragment,t),a=!1},d(t){b(e,t)}}}function W(l){let e,a,t,r,n,s,f,u,$;e=new N({props:{$$slots:{default:[V]},$$scope:{ctx:l}}}),t=new N({props:{$$slots:{default:[Y]},$$scope:{ctx:l}}});function p(o){l[12](o)}let E={options:l[1],selectDisplay:"full_name",placeholder:"select user lead"};return l[5]!==void 0&&(E.selectedOption=l[5]),n=new z({props:E}),T.push(()=>D(n,"selectedOption",p)),u=new N({props:{$$slots:{default:[K]},$$scope:{ctx:l}}}),{c(){m(e.$$.fragment),a=A(),m(t.$$.fragment),r=A(),m(n.$$.fragment),f=A(),m(u.$$.fragment)},l(o){c(e.$$.fragment,o),a=C(o),c(t.$$.fragment,o),r=C(o),c(n.$$.fragment,o),f=C(o),c(u.$$.fragment,o)},m(o,i){_(e,o,i),v(o,a,i),_(t,o,i),v(o,r,i),_(n,o,i),v(o,f,i),_(u,o,i),$=!0},p(o,i){const I={};i&32776&&(I.$$scope={dirty:i,ctx:o}),e.$set(I);const R={};i&32784&&(R.$$scope={dirty:i,ctx:o}),t.$set(R);const h={};i&2&&(h.options=o[1]),!s&&i&32&&(s=!0,h.selectedOption=o[5],O(()=>s=!1)),n.$set(h);const k={};i&32768&&(k.$$scope={dirty:i,ctx:o}),u.$set(k)},i(o){$||(d(e.$$.fragment,o),d(t.$$.fragment,o),d(n.$$.fragment,o),d(u.$$.fragment,o),$=!0)},o(o){g(e.$$.fragment,o),g(t.$$.fragment,o),g(n.$$.fragment,o),g(u.$$.fragment,o),$=!1},d(o){b(e,o),o&&S(a),b(t,o),o&&S(r),b(n,o),o&&S(f),b(u,o)}}}function X(l){let e,a,t,r;function n(u){l[13](u)}function s(u){l[14](u)}let f={headers:[{key:"id",value:"ID"},{key:"team_name",value:"FULL TEAM'S NAME"},{key:"team_short_name",value:"SHORT TEAM'S NAME"},{key:"full_lead_name",value:"USER LEAD"},{key:"is_active",value:"IS ACTIVE"}],rows:l[0],columnsToEdit:l[7],onUpdate:l[9],autocompleteOptions:l[1]};return l[2]!==void 0&&(f.selectedRowIds=l[2]),l[6]!==void 0&&(f.upData=l[6]),e=new Q({props:f}),T.push(()=>D(e,"selectedRowIds",n)),T.push(()=>D(e,"upData",s)),{c(){m(e.$$.fragment)},l(u){c(e.$$.fragment,u)},m(u,$){_(e,u,$),r=!0},p(u,$){const p={};$&1&&(p.rows=u[0]),$&2&&(p.autocompleteOptions=u[1]),!a&&$&4&&(a=!0,p.selectedRowIds=u[2],O(()=>a=!1)),!t&&$&64&&(t=!0,p.upData=u[6],O(()=>t=!1)),e.$set(p)},i(u){r||(d(e.$$.fragment,u),r=!0)},o(u){g(e.$$.fragment,u),r=!1},d(u){b(e,u)}}}function x(l){let e,a;return e=new N({props:{$$slots:{default:[X]},$$scope:{ctx:l}}}),{c(){m(e.$$.fragment)},l(t){c(e.$$.fragment,t)},m(t,r){_(e,t,r),a=!0},p(t,r){const n={};r&32839&&(n.$$scope={dirty:r,ctx:t}),e.$set(n)},i(t){a||(d(e.$$.fragment,t),a=!0)},o(t){g(e.$$.fragment,t),a=!1},d(t){b(e,t)}}}function ee(l){let e,a,t,r;return e=new y({props:{$$slots:{default:[W]},$$scope:{ctx:l}}}),t=new y({props:{$$slots:{default:[x]},$$scope:{ctx:l}}}),{c(){m(e.$$.fragment),a=A(),m(t.$$.fragment)},l(n){c(e.$$.fragment,n),a=C(n),c(t.$$.fragment,n)},m(n,s){_(e,n,s),v(n,a,s),_(t,n,s),r=!0},p(n,s){const f={};s&32826&&(f.$$scope={dirty:s,ctx:n}),e.$set(f);const u={};s&32839&&(u.$$scope={dirty:s,ctx:n}),t.$set(u)},i(n){r||(d(e.$$.fragment,n),d(t.$$.fragment,n),r=!0)},o(n){g(e.$$.fragment,n),g(t.$$.fragment,n),r=!1},d(n){b(e,n),n&&S(a),b(t,n)}}}function te(l){let e,a;return e=new P({props:{$$slots:{default:[ee]},$$scope:{ctx:l}}}),{c(){m(e.$$.fragment)},l(t){c(e.$$.fragment,t)},m(t,r){_(e,t,r),a=!0},p(t,[r]){const n={};r&32895&&(n.$$scope={dirty:r,ctx:t}),e.$set(n)},i(t){a||(d(e.$$.fragment,t),a=!0)},o(t){g(e.$$.fragment,t),a=!1},d(t){b(e,t)}}}function ae(l,e,a){let t=[{}],r,n=[],s,f,u=["team_name","team_short_name","is_active","username","full_lead_name"],$={},p=[];n===[]&&(p=[]),M(async()=>{a(0,t=await U())}),M(async()=>{a(1,r=await q())});async function E(){await fetch("http://localhost:8002/api/teams/",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({lead_user_id:$.id,name:s,short_name:f,is_active:!0,created_at:Date.now(),updated_at:Date.now()})}),a(0,t=await U())}async function o(){await fetch("http://localhost:8002/api/teams/bulk_update",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(p)}),a(0,t=await U()),a(6,p=[]),a(2,n=[])}function i(w){s=w,a(3,s)}function I(w){f=w,a(4,f)}function R(w){$=w,a(5,$)}function h(w){n=w,a(2,n)}function k(w){p=w,a(6,p)}return[t,r,n,s,f,$,p,u,E,o,i,I,R,h,k]}class $e extends L{constructor(e){super(),j(this,e,ae,te,F,{})}}export{$e as default};
