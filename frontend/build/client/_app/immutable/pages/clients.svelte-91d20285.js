import{S as y,i as N,s as O,w as f,x as i,y as p,f as c,t as m,B as _,o as B,a as I,c as S,b as w,h,Q as v,Y as C,Z as R,r as j,u as A}from"../chunks/index-f831fcd5.js";import{G,d as D,R as k,C as b,B as J}from"../chunks/autocomplete-92be2335.js";import{E as M}from"../chunks/EditableDatatable-30d45017.js";import{T as P}from"../chunks/TextInput-b96bf048.js";import"../chunks/index-c5ea608b.js";import"../chunks/ChevronDown-4ddb42be.js";import"../chunks/Close-76fb22ca.js";import"../chunks/EditOff-8afe7c05.js";function U(u){let e,n,t;function o(l){u[7](l)}let a={placeholder:"new client's name"};return u[0]!==void 0&&(a.value=u[0]),e=new P({props:a}),v.push(()=>C(e,"value",o)),{c(){f(e.$$.fragment)},l(l){i(e.$$.fragment,l)},m(l,s){p(e,l,s),t=!0},p(l,s){const r={};!n&&s&1&&(n=!0,r.value=l[0],R(()=>n=!1)),e.$set(r)},i(l){t||(c(e.$$.fragment,l),t=!0)},o(l){m(e.$$.fragment,l),t=!1},d(l){_(e,l)}}}function q(u){let e;return{c(){e=j("Submit")},l(n){e=A(n,"Submit")},m(n,t){w(n,e,t)},d(n){n&&h(e)}}}function z(u){let e,n;return e=new J({props:{size:"small",kind:"primary",$$slots:{default:[q]},$$scope:{ctx:u}}}),e.$on("click",u[5]),{c(){f(e.$$.fragment)},l(t){i(e.$$.fragment,t)},m(t,o){p(e,t,o),n=!0},p(t,o){const a={};o&1024&&(a.$$scope={dirty:o,ctx:t}),e.$set(a)},i(t){n||(c(e.$$.fragment,t),n=!0)},o(t){m(e.$$.fragment,t),n=!1},d(t){_(e,t)}}}function Q(u){let e,n,t,o,a,l;return e=new b({props:{$$slots:{default:[U]},$$scope:{ctx:u}}}),t=new b({props:{$$slots:{default:[z]},$$scope:{ctx:u}}}),a=new b({}),{c(){f(e.$$.fragment),n=I(),f(t.$$.fragment),o=I(),f(a.$$.fragment)},l(s){i(e.$$.fragment,s),n=S(s),i(t.$$.fragment,s),o=S(s),i(a.$$.fragment,s)},m(s,r){p(e,s,r),w(s,n,r),p(t,s,r),w(s,o,r),p(a,s,r),l=!0},p(s,r){const $={};r&1025&&($.$$scope={dirty:r,ctx:s}),e.$set($);const d={};r&1024&&(d.$$scope={dirty:r,ctx:s}),t.$set(d)},i(s){l||(c(e.$$.fragment,s),c(t.$$.fragment,s),c(a.$$.fragment,s),l=!0)},o(s){m(e.$$.fragment,s),m(t.$$.fragment,s),m(a.$$.fragment,s),l=!1},d(s){_(e,s),s&&h(n),_(t,s),s&&h(o),_(a,s)}}}function V(u){let e,n,t,o;function a(r){u[8](r)}function l(r){u[9](r)}let s={headers:[{key:"id",value:"ID"},{key:"client_name",value:"NAME"},{key:"is_active",value:"IS ACTIVE"}],rows:u[1],columnsToEdit:u[4],onUpdate:u[6]};return u[2]!==void 0&&(s.selectedRowIds=u[2]),u[3]!==void 0&&(s.upData=u[3]),e=new M({props:s}),v.push(()=>C(e,"selectedRowIds",a)),v.push(()=>C(e,"upData",l)),{c(){f(e.$$.fragment)},l(r){i(e.$$.fragment,r)},m(r,$){p(e,r,$),o=!0},p(r,$){const d={};$&2&&(d.rows=r[1]),!n&&$&4&&(n=!0,d.selectedRowIds=r[2],R(()=>n=!1)),!t&&$&8&&(t=!0,d.upData=r[3],R(()=>t=!1)),e.$set(d)},i(r){o||(c(e.$$.fragment,r),o=!0)},o(r){m(e.$$.fragment,r),o=!1},d(r){_(e,r)}}}function Y(u){let e,n;return e=new b({props:{$$slots:{default:[V]},$$scope:{ctx:u}}}),{c(){f(e.$$.fragment)},l(t){i(e.$$.fragment,t)},m(t,o){p(e,t,o),n=!0},p(t,o){const a={};o&1038&&(a.$$scope={dirty:o,ctx:t}),e.$set(a)},i(t){n||(c(e.$$.fragment,t),n=!0)},o(t){m(e.$$.fragment,t),n=!1},d(t){_(e,t)}}}function Z(u){let e,n,t,o;return e=new k({props:{$$slots:{default:[Q]},$$scope:{ctx:u}}}),t=new k({props:{$$slots:{default:[Y]},$$scope:{ctx:u}}}),{c(){f(e.$$.fragment),n=I(),f(t.$$.fragment)},l(a){i(e.$$.fragment,a),n=S(a),i(t.$$.fragment,a)},m(a,l){p(e,a,l),w(a,n,l),p(t,a,l),o=!0},p(a,l){const s={};l&1025&&(s.$$scope={dirty:l,ctx:a}),e.$set(s);const r={};l&1038&&(r.$$scope={dirty:l,ctx:a}),t.$set(r)},i(a){o||(c(e.$$.fragment,a),c(t.$$.fragment,a),o=!0)},o(a){m(e.$$.fragment,a),m(t.$$.fragment,a),o=!1},d(a){_(e,a),a&&h(n),_(t,a)}}}function F(u){let e,n;return e=new G({props:{$$slots:{default:[Z]},$$scope:{ctx:u}}}),{c(){f(e.$$.fragment)},l(t){i(e.$$.fragment,t)},m(t,o){p(e,t,o),n=!0},p(t,[o]){const a={};o&1039&&(a.$$scope={dirty:o,ctx:t}),e.$set(a)},i(t){n||(c(e.$$.fragment,t),n=!0)},o(t){m(e.$$.fragment,t),n=!1},d(t){_(e,t)}}}function H(u,e,n){let t,o=[{}],a=[],l={is_active:"toggle",client_name:"input"},s=[];B(async()=>{n(1,o=await D())});async function r(){await fetch("http://localhost:8002/api/clients/",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({name:t,is_active:!0,created_at:Date.now(),updated_at:Date.now()})}),n(1,o=await D())}async function $(){await fetch("http://localhost:8002/api/clients/bulk_update",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(s)}),n(1,o=await D()),n(3,s=[]),n(2,a=[])}function d(g){t=g,n(0,t)}function T(g){a=g,n(2,a)}function E(g){s=g,n(3,s)}return[t,o,a,s,l,r,$,d,T,E]}class ae extends y{constructor(e){super(),N(this,e,H,F,O,{})}}export{ae as default};
